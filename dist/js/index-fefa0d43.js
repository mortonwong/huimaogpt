import{d as A,R as g,S as x,Q as Z,c as P,P as t,N as c,U as u,e as b,V as k,h as Y,W as R,X as m,Y as ae,Z as V,F as B,_ as z,$ as Qe,r as E,j as te,a0 as ne,x as Xe,v as Ze,a1 as qe,a2 as Le,I as et,a3 as tt,u as ot,a4 as st}from"./@vue-592ec505.js";import{N as rt,a as at,b as nt,c as it,d as lt,u as ct,e as ut,f as le,g as dt,h as J,i as Ne,j as pt,k as Q,l as N,m as mt,n as ie,o as ht,p as ft,q as Se,r as gt,s as Ce,t as vt,v as yt,w as St,x as Ct,y as _t,z as wt,A as _e,B as we,C as xt,D as kt,E as xe,F as bt,G as ke}from"./naive-ui-30ee7e3c.js";import{d as W,c as Tt}from"./pinia-af09d699.js";import{u as Pt,c as $t,a as Lt}from"./vue-router-c5800335.js";import{a as Nt}from"./axios-760d4776.js";import{u as Rt,b as It}from"./@vueuse-2be4af1e.js";import{c as Et}from"./vue-i18n-2e8fc103.js";import{I as At}from"./@iconify-4e28c541.js";import{h as Ot}from"./vooks-9f50f2ef.js";import"./katex-440aaa3c.js";import"./vdirs-b0483831.js";import"./evtd-b614532e.js";import"./treemate-25c27bff.js";import"./seemly-411025cc.js";import"./vueuc-72877a4a.js";import"./@css-render-80c01661.js";import"./@juggle-41516555.js";import"./css-render-d3958e6a.js";import"./@emotion-8a8e73f6.js";import"./lodash-es-cabc0acd.js";import"./date-fns-975a2d8f.js";import"./@intlify-7347860c.js";import"./@traptitech-9a3f8757.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const f of n.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=r(a);fetch(a.href,n)}})();const be=A({__name:"Button",emits:["click"],setup(e,{emit:o}){function r(){o("click")}return(s,a)=>(g(),x("button",{class:"flex items-center justify-center w-10 h-10 transition rounded-full hover:bg-neutral-100 dark:hover:bg-[#414755]",onClick:r},[Z(s.$slots,"default")]))}}),Ut={key:0},zt={key:1},Mt=A({__name:"index",props:{tooltip:{default:""},placement:{default:"bottom"}},emits:["click"],setup(e,{emit:o}){const r=e,s=P(()=>!!r.tooltip);function a(){o("click")}return(n,f)=>t(s)?(g(),x("div",Ut,[c(t(rt),{placement:e.placement,trigger:"hover"},{trigger:u(()=>[c(be,{onClick:a},{default:u(()=>[Z(n.$slots,"default")]),_:3})]),default:u(()=>[b(" "+k(e.tooltip),1)]),_:3},8,["placement"])])):(g(),x("div",zt,[c(be,{onClick:a},{default:u(()=>[Z(n.$slots,"default")]),_:3})]))}}),Bt=A({__name:"index",setup(e){function o(){window.$loadingBar=ct(),window.$dialog=ut(),window.$message=le(),window.$notification=dt()}const r=A({name:"NaiveProviderContent",setup(){o()},render(){return Y("div")}});return(s,a)=>(g(),R(t(lt),null,{default:u(()=>[c(t(it),null,{default:u(()=>[c(t(at),null,{default:u(()=>[c(t(nt),null,{default:u(()=>[Z(s.$slots,"default"),c(t(r))]),_:3})]),_:3})]),_:3})]),_:3}))}});function Re(e){const{expire:r}=Object.assign({expire:604800},e);function s(y,T){const S={data:T,expire:r!==null?new Date().getTime()+r*1e3:null},w=JSON.stringify(S);window.localStorage.setItem(y,w)}function a(y){const T=window.localStorage.getItem(y);if(T){let S=null;try{S=JSON.parse(T)}catch{}if(S){const{data:w,expire:h}=S;if(h===null||h>=Date.now())return w}return n(y),null}}function n(y){window.localStorage.removeItem(y)}function f(){window.localStorage.clear()}return{set:s,get:a,remove:n,clear:f}}Re();const I=Re({expire:null}),Ie="appSetting";function Dt(){return{siderCollapsed:!1,theme:"light",language:"zh-CN"}}function Ht(){const e=I.get(Ie);return{...Dt(),...e}}function jt(e){I.set(Ie,e)}const F=W("app-store",{state:()=>Ht(),actions:{setSiderCollapsed(e){this.siderCollapsed=e,this.recordState()},setTheme(e){this.theme=e,this.recordState()},setLanguage(e){this.language!==e&&(this.language=e,this.recordState())},recordState(){jt(this.$state)}}});function Jt(){return F(pe)}const Ee="chatStorage";function Wt(){return{active:1002,usingContext:!0,history:[{uuid:1002,title:"New Chat",isEdit:!1}],chat:[{uuid:1002,data:[]}]}}function Vt(){const e=I.get(Ee);return{...Wt(),...e}}function Ft(e){I.set(Ee,e)}const Gt="modulepreload",Kt=function(e){return"/"+e},Te={},X=function(o,r,s){if(!r||r.length===0)return o();const a=document.getElementsByTagName("link");return Promise.all(r.map(n=>{if(n=Kt(n),n in Te)return;Te[n]=!0;const f=n.endsWith(".css"),y=f?'[rel="stylesheet"]':"";if(!!s)for(let w=a.length-1;w>=0;w--){const h=a[w];if(h.href===n&&(!f||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${y}`))return;const S=document.createElement("link");if(S.rel=f?"stylesheet":Gt,f||(S.as="script",S.crossOrigin=""),S.href=n,document.head.appendChild(S),f)return new Promise((w,h)=>{S.addEventListener("load",w),S.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>o())},ce="SECRET_TOKEN";function Yt(){return I.get(ce)}function Qt(e){return I.set(ce,e)}function Xt(){return I.remove(ce)}const q=Nt.create({baseURL:"https://chat.huimao.fun/api"});q.interceptors.request.use(e=>{const o=oe().token;return o&&(e.headers.Authorization=`Bearer ${o}`),e},e=>Promise.reject(e.response));q.interceptors.response.use(e=>{if(e.status===200)return e;throw new Error(e.status.toString())},e=>Promise.reject(e));function Zt({url:e,data:o,method:r,headers:s,onDownloadProgress:a,signal:n,beforeRequest:f,afterRequest:y}){const T=h=>{const v=oe();return h.data.status==="Success"||typeof h.data=="string"?h.data:(h.data.status==="Unauthorized"&&(v.removeToken(),window.location.reload()),Promise.reject(h.data))},S=h=>{throw y==null||y(),new Error((h==null?void 0:h.message)||"Error")};f==null||f(),r=r||"GET";const w=Object.assign(typeof o=="function"?o():o??{},{});return r==="GET"?q.get(e,{params:w,signal:n,onDownloadProgress:a}).then(T,S):q.post(e,w,{headers:s,signal:n,onDownloadProgress:a}).then(T,S)}function G({url:e,data:o,method:r="POST",headers:s,onDownloadProgress:a,signal:n,beforeRequest:f,afterRequest:y}){return Zt({url:e,method:r,data:o,headers:s,onDownloadProgress:a,signal:n,beforeRequest:f,afterRequest:y})}function Ys(e){const o=Be(),r=oe();let s={prompt:e.prompt,options:e.options};return r.isChatGPTAPI&&(s={...s,systemMessage:o.systemMessage,temperature:o.temperature,top_p:o.top_p}),G({url:"/chat-process",data:s,signal:e.signal,onDownloadProgress:e.onDownloadProgress})}function qt(){return G({url:"/session"})}function Qs(e){return G({url:"/sendemail",data:{email:e}})}function Xs(e,o,r,s,a){return G({url:"/usercreate",data:{email:e,emailCode:o,userName:r,password:s,SCC:a}})}function Zs(e,o,r){return G({url:"/userlogin",data:{userName:e,password:o,type:r}})}const oe=W("auth-store",{state:()=>({token:Yt(),session:null}),getters:{isChatGPTAPI(e){var o;return((o=e.session)==null?void 0:o.model)==="ChatGPTAPI"}},actions:{async getSession(){try{const{data:e}=await qt();return this.session={...e},Promise.resolve(e)}catch(e){return Promise.reject(e)}},setToken(e){this.token=e,Qt(e)},removeToken(){this.token=void 0,Xt()}}});function eo(){return oe(pe)}function to(e){e.beforeEach(async(o,r,s)=>{const a=eo();if(a.session)s();else try{const n=await a.getSession();String(n.auth)==="false"&&a.token&&a.removeToken(),o.path==="/500"?s({name:"Root"}):s()}catch{o.path!=="/500"?s({name:"500"}):s()}})}const oo="/jpg/wxcode-9b2ac5e2.jpg";function K(){return{isMobile:Rt(It).smaller("sm")}}function so(e,o){let r;return(...s)=>{const a=()=>{clearTimeout(r),e(...s)};clearTimeout(r),r=setTimeout(a,o)}}const ro={class:"flex flex-col gap-2 text-base"},ao={key:0,class:"flex flex-col items-center mt-4 text-center text-neutral-300"},no=["onClick"],io={class:"relative flex-1 overflow-hidden break-all text-ellipsis whitespace-nowrap"},lo={key:1},co={key:0,class:"absolute z-10 flex visible right-1"},uo=["onClick"],po={class:"p-1"},mo={class:"p-1"},ho=A({__name:"List",setup(e){const{isMobile:o}=K(),r=F(),s=ue(),a=P(()=>s.history);async function n({uuid:h}){w(h)||(s.active&&s.updateHistory(s.active,{isEdit:!1}),await s.setActive(h),o.value&&r.setSiderCollapsed(!0))}function f({uuid:h},v,p){p==null||p.stopPropagation(),s.updateHistory(h,{isEdit:v})}function y(h,v){v==null||v.stopPropagation(),s.deleteHistory(h),o.value&&r.setSiderCollapsed(!0)}const T=so(y,600);function S({uuid:h},v,p){p==null||p.stopPropagation(),p.key==="Enter"&&s.updateHistory(h,{isEdit:v})}function w(h){return s.active===h}return(h,v)=>(g(),R(t(pt),{class:"px-4"},{default:u(()=>[m("div",ro,[t(a).length?(g(!0),x(B,{key:1},ae(t(a),(p,_)=>(g(),x("div",{key:_},[m("a",{class:V([w(p.uuid)&&["pr-14","leftScrollButtonActive","dark:bg-[#3b7ff2]","dark:hover:bg-[#418cff]"],"relative flex items-center gap-3 px-3 py-3 break-all border cursor-pointer group leftScrollButton dark:bg-[#333736] dark:hover:bg-[#37393a]"]),onClick:L=>n(p)},[m("span",null,[c(t(M),{icon:"ri:message-3-line"})]),m("div",io,[p.isEdit?(g(),R(t(J),{key:0,value:p.title,"onUpdate:value":L=>p.title=L,size:"tiny",onKeypress:L=>S(p,!1,L)},null,8,["value","onUpdate:value","onKeypress"])):(g(),x("span",lo,k(p.title),1))]),w(p.uuid)?(g(),x("div",co,[p.isEdit?(g(),x("button",{key:0,class:"p-1",onClick:L=>f(p,!1,L)},[c(t(M),{icon:"ri:save-line"})],8,uo)):(g(),x(B,{key:1},[m("button",po,[c(t(M),{icon:"ri:edit-line",onClick:L=>f(p,!0,L)},null,8,["onClick"])]),c(t(Ne),{placement:"bottom",onPositiveClick:L=>t(T)(_,L)},{trigger:u(()=>[m("button",mo,[c(t(M),{icon:"ri:delete-bin-line"})])]),default:u(()=>[b(" "+k(h.$t("chat.deleteHistoryConfirm")),1)]),_:2},1032,["onPositiveClick"])],64))])):z("",!0)],10,no)]))),128)):(g(),x("div",ao,[c(t(M),{icon:"ri:inbox-line",class:"mb-2 text-3xl"}),m("span",null,k(h.$t("common.noData")),1)]))])]),_:1}))}});const fo={class:"flex items-center justify-between min-w-0 p-4 overflow-hidden border-t dark:border-neutral-800"},go={class:"flex-1 flex-shrink-0 overflow-hidden"},vo={class:"text-xl text-[#4f555e] dark:text-white"},yo=A({__name:"Footer",setup(e){const o=Qe(()=>X(()=>import("./index-3a2c2324.js"),["js/index-3a2c2324.js","js/naive-ui-30ee7e3c.js","js/@vue-592ec505.js","js/vooks-9f50f2ef.js","js/evtd-b614532e.js","js/vdirs-b0483831.js","js/treemate-25c27bff.js","js/seemly-411025cc.js","js/vueuc-72877a4a.js","js/@css-render-80c01661.js","js/@juggle-41516555.js","js/css-render-d3958e6a.js","js/@emotion-8a8e73f6.js","js/lodash-es-cabc0acd.js","js/date-fns-975a2d8f.js","js/pinia-af09d699.js","js/vue-router-c5800335.js","js/axios-760d4776.js","js/@vueuse-2be4af1e.js","js/vue-i18n-2e8fc103.js","js/@intlify-7347860c.js","js/@iconify-4e28c541.js","js/katex-440aaa3c.js","js/@traptitech-9a3f8757.js","css/katex-df47a520.css"])),r=E(!1);return(s,a)=>(g(),x("footer",fo,[m("div",go,[c(t(Qo))]),c(t(Mt),{onClick:a[0]||(a[0]=n=>r.value=!0)},{default:u(()=>[m("span",vo,[c(t(M),{icon:"ri:settings-4-line"})])]),_:1}),(g(),R(t(o),{key:0,visible:r.value,"onUpdate:visible":a[1]||(a[1]=n=>r.value=n)},null,8,["visible"]))]))}});function Ae(){const e=F(),o=Ot(),r=P(()=>e.theme==="auto"?o.value==="dark":e.theme==="dark"),s=P(()=>r.value?Q:void 0),a=P(()=>r.value?{common:{}}:{});return te(()=>r.value,n=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},{immediate:!0}),{theme:s,themeOverrides:a,isDark:r}}const So={class:"flex flex-col flex-1 min-h-0"},Co={class:"p-4"},_o={class:"flex-1 min-h-0 pb-4 overflow-hidden"},wo={class:"leftBottomButton"},xo={class:"leftBottomButton"},ko=m("br",null,null,-1),bo=m("img",{src:oo},null,-1),To=A({__name:"index",setup(e){const{isDark:o}=Ae(),r=F(),s=ue(),{isMobile:a}=K(),n=E(!1),f=P(()=>r.siderCollapsed);function y(){s.addHistory({title:"New Chat",uuid:Date.now(),isEdit:!1}),a.value&&r.setSiderCollapsed(!0)}function T(){r.setSiderCollapsed(!f.value)}const S=P(()=>a.value?{position:"fixed",zIndex:50}:{}),w=P(()=>a.value?{paddingBottom:"env(safe-area-inset-bottom)"}:{});te(a,v=>{r.setSiderCollapsed(v)},{immediate:!0,flush:"post"});const h=E(!1);return(v,p)=>(g(),x(B,null,[c(t(mt),{collapsed:t(f),"collapsed-width":0,width:260,"show-trigger":t(a)?!1:"arrow-circle","collapse-mode":"transform",position:t(a)?"absolute":"static",style:ne(`${t(S)};z-index:41;background-color:${t(o)?"#232525":"#f7f9fd"}`),class:"mySider",onUpdateCollapsed:T},{default:u(()=>[m("div",{class:"flex flex-col h-full",style:ne(t(w))},[m("main",So,[m("div",Co,[c(t(N),{dashed:"",block:"",size:"large",onClick:y},{default:u(()=>[b(" + "+k(v.$t("chat.newChatButton")),1)]),_:1})]),m("div",_o,[c(ho)]),m("div",wo,[c(t(N),{block:"",secondary:"",type:"primary",onClick:p[0]||(p[0]=_=>h.value=!0)},{default:u(()=>[b(" 加入微信群 ")]),_:1})]),m("div",xo,[c(t(N),{block:"",secondary:"",type:"primary",onClick:p[1]||(p[1]=_=>n.value=!0)},{default:u(()=>[b(k(v.$t("store.siderButton")),1)]),_:1})])]),c(yo)],4)]),_:1},8,["collapsed","show-trigger","position","style"]),t(a)?Xe((g(),x("div",{key:0,class:"fixed inset-0 z-40 w-full h-full bg-black/40",onClick:T},null,512)),[[Ze,!t(f)]]):z("",!0),c(t(gs),{visible:n.value,"onUpdate:visible":p[2]||(p[2]=_=>n.value=_)},null,8,["visible"]),c(t(ie),{show:h.value,"onUpdate:show":p[3]||(p[3]=_=>h.value=_),style:{width:"90%","max-width":"500px","text-align":"center"},preset:"card"},{default:u(()=>[b(" 请扫描下方二维码"),ko,b("添加客服加入微信交流群 "),bo]),_:1},8,["show"])],64))}});const Po={class:"fixed top-0 left-0 right-0 z-30 flex items-center header-content",style:{display:"flex",height:"42px","line-height":"42px","flex-direction":"row",background:"linear-gradient(70deg, rgb(37 36 40) 10.79%, #06083e 72.08%)","z-index":"999","justify-content":"center"}},$o={style:{color:"rgb(51, 51, 51)","letter-spacing":"1px","margin-right":"11px"}},Lo=m("span",{style:{"font-size":"0.9rem","letter-spacing":"1px","font-weight":"600",color:"#fff","text-shadow":"0px 0.3px 0.9px rgba(0, 0, 0, 0.12), 0px 1.6px 3.6px rgba(0, 0, 0, 0.16)"}},"🤖知潮GPT",-1),No={key:0,style:{color:"rgb(201, 209, 217)","font-size":"0.6rem"}},Ro=m("div",{class:"mainNavAc mainNav"}," AI聊天 ",-1),Io=A({__name:"Layout",setup(e){const o=Pt(),r=ue(),s=le();o.replace({name:"Chat",params:{uuid:r.active}});const{isMobile:a}=K(),n=P(()=>a.value?["rounded-none","shadow-none"]:["border","rounded-md","shadow-md","dark:border-neutral-800"]),f=P(()=>["h-full"]);function y(){s.success("开发中！敬请期待！")}return(T,S)=>{const w=Le("RouterView");return g(),x(B,null,[m("header",Po,[m("h1",$o,[Lo,t(a)?z("",!0):(g(),x("span",No," - 免费就能用的GPT"))]),Ro,m("div",{class:"mainNav",onClick:y}," AI绘画 "),m("div",{class:"mainNav",onClick:y}," 文档Chat ")]),m("div",{class:V(["h-full dark:bg-[#1f2121] transition-all",[t(a)?"p-0":"p-4"]])},[m("div",{class:V(["h-full overflow-hidden",[t(a)?t(n):"pcFrame"]])},[c(t(ft),{class:V(["z-40 transition",t(f)]),"has-sider":"",style:{"background-color":"transparent"}},{default:u(()=>[c(To),c(t(ht),{style:{"background-color":"transparent"},class:"h-full"},{default:u(()=>[c(w,null,{default:u(({Component:h,route:v})=>[(g(),R(qe(h),{key:v.fullPath}))]),_:1})]),_:1})]),_:1},8,["class"])],2)],2)],64)}}});const Eo=[{path:"/",name:"Root",component:Io,redirect:"/chat",children:[{path:"/chat/:uuid?",name:"Chat",component:()=>X(()=>import("./index-bfe572d0.js").then(e=>e.i),["js/index-bfe572d0.js","js/vue-router-c5800335.js","js/@vue-592ec505.js","js/pinia-af09d699.js","js/html2canvas-18c4afc9.js","js/naive-ui-30ee7e3c.js","js/vooks-9f50f2ef.js","js/evtd-b614532e.js","js/vdirs-b0483831.js","js/treemate-25c27bff.js","js/seemly-411025cc.js","js/vueuc-72877a4a.js","js/@css-render-80c01661.js","js/@juggle-41516555.js","js/css-render-d3958e6a.js","js/@emotion-8a8e73f6.js","js/lodash-es-cabc0acd.js","js/date-fns-975a2d8f.js","css/index-d3923887.css"])}]},{path:"/404",name:"404",component:()=>X(()=>import("./index-9319270d.js"),["js/index-9319270d.js","js/vue-router-c5800335.js","js/@vue-592ec505.js","js/naive-ui-30ee7e3c.js","js/vooks-9f50f2ef.js","js/evtd-b614532e.js","js/vdirs-b0483831.js","js/treemate-25c27bff.js","js/seemly-411025cc.js","js/vueuc-72877a4a.js","js/@css-render-80c01661.js","js/@juggle-41516555.js","js/css-render-d3958e6a.js","js/@emotion-8a8e73f6.js","js/lodash-es-cabc0acd.js","js/date-fns-975a2d8f.js"])},{path:"/500",name:"500",component:()=>X(()=>import("./index-df5d55e3.js"),["js/index-df5d55e3.js","js/vue-router-c5800335.js","js/@vue-592ec505.js","js/naive-ui-30ee7e3c.js","js/vooks-9f50f2ef.js","js/evtd-b614532e.js","js/vdirs-b0483831.js","js/treemate-25c27bff.js","js/seemly-411025cc.js","js/vueuc-72877a4a.js","js/@css-render-80c01661.js","js/@juggle-41516555.js","js/css-render-d3958e6a.js","js/@emotion-8a8e73f6.js","js/lodash-es-cabc0acd.js","js/date-fns-975a2d8f.js"])},{path:"/:pathMatch(.*)*",name:"notFound",redirect:"/404"}],ee=$t({history:Lt(),routes:Eo,scrollBehavior:()=>({left:0,top:0})});to(ee);async function Ao(e){e.use(ee),await ee.isReady()}const ue=W("chat-store",{state:()=>Vt(),getters:{getChatHistoryByCurrentActive(e){const o=e.history.findIndex(r=>r.uuid===e.active);return o!==-1?e.history[o]:null},getChatByUuid(e){return o=>{var r,s;return o?((r=e.chat.find(a=>a.uuid===o))==null?void 0:r.data)??[]:((s=e.chat.find(a=>a.uuid===e.active))==null?void 0:s.data)??[]}}},actions:{getChatData(){return this.chat},setUsingContext(e){this.usingContext=e,this.recordState()},addHistory(e,o=[]){this.history.unshift(e),this.chat.unshift({uuid:e.uuid,data:o}),this.active=e.uuid,this.reloadRoute(e.uuid)},updateHistory(e,o){const r=this.history.findIndex(s=>s.uuid===e);r!==-1&&(this.history[r]={...this.history[r],...o},this.recordState())},async deleteHistory(e){if(this.history.splice(e,1),this.chat.splice(e,1),this.history.length===0){this.active=null,this.reloadRoute();return}if(e>0&&e<=this.history.length){const o=this.history[e-1].uuid;this.active=o,this.reloadRoute(o);return}if(e===0&&this.history.length>0){const o=this.history[0].uuid;this.active=o,this.reloadRoute(o)}if(e>this.history.length){const o=this.history[this.history.length-1].uuid;this.active=o,this.reloadRoute(o)}},async setActive(e){return this.active=e,await this.reloadRoute(e)},getChatByUuidAndIndex(e,o){if(!e||e===0)return this.chat.length?this.chat[0].data[o]:null;const r=this.chat.findIndex(s=>s.uuid===e);return r!==-1?this.chat[r].data[o]:null},addChatByUuid(e,o){if(!e||e===0)if(this.history.length===0){const s=Date.now();this.history.push({uuid:s,title:o.text,isEdit:!1}),this.chat.push({uuid:s,data:[o]}),this.active=s,this.recordState()}else this.chat[0].data.push(o),this.history[0].title==="New Chat"&&(this.history[0].title=o.text),this.recordState();const r=this.chat.findIndex(s=>s.uuid===e);r!==-1&&(this.chat[r].data.push(o),this.history[r].title==="New Chat"&&(this.history[r].title=o.text),this.recordState())},updateChatByUuid(e,o,r){if(!e||e===0){this.chat.length&&(this.chat[0].data[o]=r,this.recordState());return}const s=this.chat.findIndex(a=>a.uuid===e);s!==-1&&(this.chat[s].data[o]=r,this.recordState())},updateChatSomeByUuid(e,o,r){if(!e||e===0){this.chat.length&&(this.chat[0].data[o]={...this.chat[0].data[o],...r},this.recordState());return}const s=this.chat.findIndex(a=>a.uuid===e);s!==-1&&(this.chat[s].data[o]={...this.chat[s].data[o],...r},this.recordState())},deleteChatByUuid(e,o){if(!e||e===0){this.chat.length&&(this.chat[0].data.splice(o,1),this.recordState());return}const r=this.chat.findIndex(s=>s.uuid===e);r!==-1&&(this.chat[r].data.splice(o,1),this.recordState())},clearChatByUuid(e){if(!e||e===0){this.chat.length&&(this.chat[0].data=[],this.recordState());return}const o=this.chat.findIndex(r=>r.uuid===e);o!==-1&&(this.chat[o].data=[],this.recordState())},async reloadRoute(e){this.recordState(),await ee.push({name:"Chat",params:{uuid:e}})},recordState(){Ft(this.$state)}}}),Oe="userStorage";function Ue(){return{userInfo:{avatar:"http://chat.huimao.fun/avatar.jpg",name:"知潮GPT",description:"畅享免费无限次数",isLogin:!1}}}function Oo(){const e=I.get(Oe);return{...Ue(),...e}}function Uo(e){I.set(Oe,e)}const zo=W("user-store",{state:()=>Oo(),actions:{updateUserInfo(e){this.userInfo={...this.userInfo,...e},this.recordState()},resetUserInfo(){this.userInfo={...Ue().userInfo},this.recordState()},recordState(){Uo(this.$state)}}}),ze="promptStore";function Mo(){return I.get(ze)??{promptList:[]}}function Bo(e){I.set(ze,e)}const Do=W("prompt-store",{state:()=>Mo(),actions:{updatePromptList(e){this.$patch({promptList:e}),Bo({promptList:e})},getPromptList(){return this.$state}}}),de="settingsStorage";function Me(){return{systemMessage:"You are ChatGPT, a large language model trained by OpenAI. Follow the user's instructions carefully. Respond using markdown.",temperature:.8,top_p:1,modalType:"register_step1",showModal:!1}}function Ho(){const e=I.get(de);return{...Me(),...e}}function jo(e){I.set(de,e)}function Jo(){I.remove(de)}const Be=W("setting-store",{state:()=>Ho(),actions:{updateSetting(e){this.$state={...this.$state,...e},this.recordState()},resetSetting(){this.$state=Me(),Jo()},recordState(){jo(this.$state)}}}),pe=Tt();function Wo(e){e.use(pe)}const Pe="/jpg/avatar-ceeb03f6.jpg";function $e(e){return Object.prototype.toString.call(e)==="[object String]"}const Vo={class:"w-10 h-10 overflow-hidden rounded-full shrink-0"},Fo={class:"flex-1 min-w-0 ml-2"},Go={class:"overflow-hidden font-bold text-md text-ellipsis whitespace-nowrap"},Ko={class:"overflow-hidden text-xs text-gray-500 text-ellipsis whitespace-nowrap"},Yo=["innerHTML"],Qo=A({__name:"index",setup(e){const o=Be(),r=zo(),s=P(()=>r.userInfo);function a(){s.value.isLogin||o.updateSetting({showModal:!0})}return(n,f)=>(g(),x("div",{class:"flex items-center overflow-hidden",onClick:a},[m("div",Vo,[t($e)(t(s).avatar)&&t(s).avatar.length>0?(g(),R(t(Se),{key:0,size:"large",round:"",src:t(s).avatar,"fallback-src":t(Pe)},null,8,["src","fallback-src"])):(g(),R(t(Se),{key:1,size:"large",round:"",src:t(Pe)},null,8,["src"]))]),m("div",Fo,[m("h2",Go,k(t(s).isLogin?t(s).name:"点击登录"),1),m("p",Ko,[t($e)(t(s).description)&&t(s).description!==""?(g(),x("span",{key:0,innerHTML:t(s).description},null,8,Yo)):z("",!0)])])]))}}),Xo={common:{add:"Add",addSuccess:"Add Success",edit:"Edit",editSuccess:"Edit Success",delete:"Delete",deleteSuccess:"Delete Success",save:"Save",saveSuccess:"Save Success",reset:"Reset",action:"Action",export:"Export",exportSuccess:"Export Success",import:"Import",importSuccess:"Import Success",clear:"Clear",clearSuccess:"Clear Success",yes:"Yes",no:"No",confirm:"Confirm",download:"Download",noData:"No Data",wrong:"Something went wrong, please try again later.",success:"Success",failed:"Failed",verify:"Verify",unauthorizedTips:"Unauthorized, please verify first."},chat:{newChatButton:"New Chat",placeholder:'Ask me anything...(Shift + Enter = line break, "/" to trigger prompts)',placeholderMobile:"Ask me anything...",copy:"Copy",copied:"Copied",copyCode:"Copy Code",clearChat:"Clear Chat",clearChatConfirm:"Are you sure to clear this chat?",exportImage:"Export Image",exportImageConfirm:"Are you sure to export this chat to png?",exportSuccess:"Export Success",exportFailed:"Export Failed",usingContext:"Context Mode",turnOnContext:"In the current mode, sending messages will carry previous chat records.",turnOffContext:"In the current mode, sending messages will not carry previous chat records.",deleteMessage:"Delete Message",deleteMessageConfirm:"Are you sure to delete this message?",deleteHistoryConfirm:"Are you sure to clear this history?",clearHistoryConfirm:"Are you sure to clear chat history?",preview:"Preview",showRawText:"Show as raw text"},setting:{setting:"Setting",general:"General",advanced:"Advanced",config:"Config",avatarLink:"Avatar Link",name:"Name",description:"Description",role:"Role",temperature:"Temperature",top_p:"Top_p",resetUserInfo:"Reset UserInfo",chatHistory:"ChatHistory",theme:"Theme",language:"Language",api:"API",reverseProxy:"Reverse Proxy",timeout:"Timeout",socks:"Socks",httpsProxy:"HTTPS Proxy",balance:"API Balance",monthlyUsage:"Monthly Usage"},store:{siderButton:"Prompt Store",local:"Local",online:"Online",title:"Title",description:"Description",clearStoreConfirm:"Whether to clear the data?",importPlaceholder:"Please paste the JSON data here",addRepeatTitleTips:"Title duplicate, please re-enter",addRepeatContentTips:"Content duplicate: {msg}, please re-enter",editRepeatTitleTips:"Title conflict, please revise",editRepeatContentTips:"Content conflict {msg} , please re-modify",importError:"Key value mismatch",importRepeatTitle:"Title repeatedly skipped: {msg}",importRepeatContent:"Content is repeatedly skipped: {msg}",onlineImportWarning:"Note: Please check the JSON file source!",downloadError:"Please check the network status and JSON file validity"}},Zo={common:{add:"추가",addSuccess:"추가 성공",edit:"편집",editSuccess:"편집 성공",delete:"삭제",deleteSuccess:"삭제 성공",save:"저장",saveSuccess:"저장 성공",reset:"초기화",action:"액션",export:"내보내기",exportSuccess:"내보내기 성공",import:"가져오기",importSuccess:"가져오기 성공",clear:"비우기",clearSuccess:"비우기 성공",yes:"예",no:"아니오",confirm:"확인",download:"다운로드",noData:"데이터 없음",wrong:"문제가 발생했습니다. 나중에 다시 시도하십시오.",success:"성공",failed:"실패",verify:"검증",unauthorizedTips:"인증되지 않았습니다. 먼저 확인하십시오."},chat:{newChatButton:"새로운 채팅",placeholder:'무엇이든 물어보세요...(Shift + Enter = 줄바꿈, "/"를 눌러서 힌트를 보세요)',placeholderMobile:"무엇이든 물어보세요...",copy:"복사",copied:"복사됨",copyCode:"코드 복사",clearChat:"채팅 비우기",clearChatConfirm:"이 채팅을 비우시겠습니까?",exportImage:"이미지 내보내기",exportImageConfirm:"이 채팅을 png로 내보내시겠습니까?",exportSuccess:"내보내기 성공",exportFailed:"내보내기 실패",usingContext:"컨텍스트 모드",turnOnContext:"현재 모드에서는 이전 대화 기록을 포함하여 메시지를 보낼 수 있습니다.",turnOffContext:"현재 모드에서는 이전 대화 기록을 포함하지 않고 메시지를 보낼 수 있습니다.",deleteMessage:"메시지 삭제",deleteMessageConfirm:"이 메시지를 삭제하시겠습니까?",deleteHistoryConfirm:"이 기록을 삭제하시겠습니까?",clearHistoryConfirm:"채팅 기록을 삭제하시겠습니까?",preview:"미리보기",showRawText:"원본 텍스트로 보기"},setting:{setting:"설정",general:"일반",advanced:"고급",config:"설정",avatarLink:"아바타 링크",name:"이름",description:"설명",role:"역할",temperature:"온도",top_p:"Top_p",resetUserInfo:"사용자 정보 초기화",chatHistory:"채팅 기록",theme:"테마",language:"언어",api:"API",reverseProxy:"리버스 프록시",timeout:"타임아웃",socks:"Socks",httpsProxy:"HTTPS 프록시",balance:"API 잔액",monthlyUsage:"월 사용량"},store:{siderButton:"프롬프트 저장소",local:"로컬",online:"온라인",title:"제목",description:"설명",clearStoreConfirm:"데이터를 삭제하시겠습니까?",importPlaceholder:"여기에 JSON 데이터를 붙여넣으십시오",addRepeatTitleTips:"제목 중복됨, 다시 입력하십시오",addRepeatContentTips:"내용 중복됨: {msg}, 다시 입력하십시오",editRepeatTitleTips:"제목 충돌, 수정하십시오",editRepeatContentTips:"내용 충돌 {msg} , 수정하십시오",importError:"키 값 불일치",importRepeatTitle:"제목이 반복되어 건너뜀: {msg}",importRepeatContent:"내용이 반복되어 건너뜀: {msg}",onlineImportWarning:"참고: JSON 파일 소스를 확인하십시오!"}},qo={common:{add:"添加",addSuccess:"添加成功",edit:"编辑",editSuccess:"编辑成功",delete:"删除",deleteSuccess:"删除成功",save:"保存",saveSuccess:"保存成功",reset:"注销",action:"操作",export:"导出",exportSuccess:"导出成功",import:"导入",importSuccess:"导入成功",clear:"清空",clearSuccess:"清空成功",yes:"是",no:"否",confirm:"确定",download:"下载",noData:"暂无数据",wrong:"好像出错了，请稍后再试。",success:"操作成功",failed:"操作失败",verify:"验证",unauthorizedTips:"未经授权，请先进行验证。"},chat:{newChatButton:"新建聊天",placeholder:'来说点什么吧...（Shift + Enter = 换行，"/" 触发提示词）',placeholderMobile:"来说点什么...",copy:"复制",copied:"复制成功",copyCode:"复制代码",clearChat:"清空会话",clearChatConfirm:"是否清空会话?",exportImage:"保存会话到图片",exportImageConfirm:"是否将会话保存为图片?",exportSuccess:"保存成功",exportFailed:"保存失败",usingContext:"上下文模式",turnOnContext:"当前模式下, 发送消息会携带之前的聊天记录",turnOffContext:"当前模式下, 发送消息不会携带之前的聊天记录",deleteMessage:"删除消息",deleteMessageConfirm:"是否删除此消息?",deleteHistoryConfirm:"确定删除此记录?",clearHistoryConfirm:"确定清空聊天记录?",preview:"预览",showRawText:"显示原文"},setting:{setting:"设置",general:"总览",advanced:"高级",config:"配置",avatarLink:"头像链接",name:"名称",description:"描述",role:"角色设定",temperature:"Temperature",top_p:"Top_p",resetUserInfo:"用户操作",chatHistory:"聊天记录",theme:"主题",language:"语言",api:"API",reverseProxy:"反向代理",timeout:"超时",socks:"Socks",httpsProxy:"HTTPS Proxy",balance:"API余额",monthlyUsage:"本月使用量"},store:{siderButton:"提示词商店",local:"本地",online:"在线",title:"标题",description:"描述",clearStoreConfirm:"是否清空数据？",importPlaceholder:"请粘贴 JSON 数据到此处",addRepeatTitleTips:"标题重复，请重新输入",addRepeatContentTips:"内容重复：{msg}，请重新输入",editRepeatTitleTips:"标题冲突，请重新修改",editRepeatContentTips:"内容冲突{msg} ，请重新修改",importError:"键值不匹配",importRepeatTitle:"标题重复跳过：{msg}",importRepeatContent:"内容重复跳过：{msg}",onlineImportWarning:"注意：请检查 JSON 文件来源！",downloadError:"请检查网络状态与 JSON 文件有效性"}},es={common:{add:"新增",addSuccess:"新增成功",edit:"編輯",editSuccess:"編輯成功",delete:"刪除",deleteSuccess:"刪除成功",save:"儲存",saveSuccess:"儲存成功",reset:"重設",action:"操作",export:"匯出",exportSuccess:"匯出成功",import:"匯入",importSuccess:"匯入成功",clear:"清除",clearSuccess:"清除成功",yes:"是",no:"否",confirm:"確認",download:"下載",noData:"目前無資料",wrong:"發生錯誤，請稍後再試。",success:"操作成功",failed:"操作失敗",verify:"驗證",unauthorizedTips:"未經授權，請先進行驗證。"},chat:{newChatButton:"新增對話",placeholder:'來說點什麼...（Shift + Enter = 換行，"/" 觸發提示詞）',placeholderMobile:"來說點什麼...",copy:"複製",copied:"複製成功",copyCode:"複製代碼",clearChat:"清除對話",clearChatConfirm:"是否清空對話?",exportImage:"儲存對話為圖片",exportImageConfirm:"是否將對話儲存為圖片?",exportSuccess:"儲存成功",exportFailed:"儲存失敗",usingContext:"上下文模式",turnOnContext:"啟用上下文模式，在此模式下，發送訊息會包含之前的聊天記錄。",turnOffContext:"關閉上下文模式，在此模式下，發送訊息不會包含之前的聊天記錄。",deleteMessage:"刪除訊息",deleteMessageConfirm:"是否刪除此訊息?",deleteHistoryConfirm:"確定刪除此紀錄?",clearHistoryConfirm:"確定清除紀錄?",preview:"預覽",showRawText:"顯示原文"},setting:{setting:"設定",general:"總覽",advanced:"進階",config:"設定",avatarLink:"頭貼連結",name:"名稱",description:"描述",role:"角色設定",temperature:"Temperature",top_p:"Top_p",resetUserInfo:"重設使用者資訊",chatHistory:"紀錄",theme:"主題",language:"語言",api:"API",reverseProxy:"反向代理",timeout:"逾時",socks:"Socks",httpsProxy:"HTTPS Proxy",balance:"API Credit 餘額",monthlyUsage:"本月使用量"},store:{siderButton:"提示詞商店",local:"本機",online:"線上",title:"標題",description:"描述",clearStoreConfirm:"是否清除資料？",importPlaceholder:"請將 JSON 資料貼在此處",addRepeatTitleTips:"標題重複，請重新輸入",addRepeatContentTips:"內容重複：{msg}，請重新輸入",editRepeatTitleTips:"標題衝突，請重新修改",editRepeatContentTips:"內容衝突{msg} ，請重新修改",importError:"鍵值不符合",importRepeatTitle:"因標題重複跳過：{msg}",importRepeatContent:"因內容重複跳過：{msg}",onlineImportWarning:"注意：請檢查 JSON 檔案來源！",downloadError:"請檢查網路狀態與 JSON 檔案有效性"}},ts={common:{add:"Добавить",addSuccess:"Добавлено успешно",edit:"Редактировать",editSuccess:"Изменено успешно",delete:"Удалить",deleteSuccess:"Удалено успешно",save:"Сохранить",saveSuccess:"Сохранено успешно",reset:"Сбросить",action:"Действие",export:"Экспортировать",exportSuccess:"Экспорт выполнен успешно",import:"Импортировать",importSuccess:"Импорт выполнен успешно",clear:"Очистить",clearSuccess:"Очищено успешно",yes:"Да",no:"Нет",confirm:"Подтвердить",download:"Загрузить",noData:"Нет данных",wrong:"Что-то пошло не так, пожалуйста, повторите попытку позже.",success:"Успех",failed:"Не удалось",verify:"Проверить",unauthorizedTips:"Не авторизован, сначала подтвердите свою личность."},chat:{newChatButton:"Новый чат",placeholder:'Спросите меня о чем-нибудь ... (Shift + Enter = перенос строки, "/" для вызова подсказок)',placeholderMobile:"Спросите меня о чем-нибудь ...",copy:"Копировать",copied:"Скопировано",copyCode:"Копировать код",clearChat:"Очистить чат",clearChatConfirm:"Вы уверены, что хотите очистить этот чат?",exportImage:"Экспорт в изображение",exportImageConfirm:"Вы уверены, что хотите экспортировать этот чат в формате PNG?",exportSuccess:"Экспортировано успешно",exportFailed:"Не удалось выполнить экспорт",usingContext:"Режим контекста",turnOnContext:"В текущем режиме отправка сообщений будет включать предыдущие записи чата.",turnOffContext:"В текущем режиме отправка сообщений не будет включать предыдущие записи чата.",deleteMessage:"Удалить сообщение",deleteMessageConfirm:"Вы уверены, что хотите удалить это сообщение?",deleteHistoryConfirm:"Вы уверены, что хотите очистить эту историю?",clearHistoryConfirm:"Вы уверены, что хотите очистить историю чата?",preview:"Предварительный просмотр",showRawText:"Показать как обычный текст"},setting:{setting:"Настройки",general:"Общее",advanced:"Дополнительно",config:"Конфигурация",avatarLink:"Ссылка на аватар",name:"Имя",description:"Описание",role:"Роль",temperature:"Температура",top_p:"Top_p",resetUserInfo:"Сбросить информацию о пользователе",chatHistory:"История чата",theme:"Тема",language:"Язык",api:"API",reverseProxy:"Обратный прокси-сервер",timeout:"Время ожидания",socks:"Socks",httpsProxy:"HTTPS-прокси",balance:"Баланс API",monthlyUsage:"Ежемесячное использование"},store:{siderButton:"Хранилище подсказок",local:"Локальное",online:"Онлайн",title:"Название",description:"Описание",clearStoreConfirm:"Вы действительно хотите очистить данные?",importPlaceholder:"Пожалуйста, вставьте здесь JSON-данные",addRepeatTitleTips:"Дубликат названия, пожалуйста, введите другое название",addRepeatContentTips:"Дубликат содержимого: {msg}, пожалуйста, введите другой текст",editRepeatTitleTips:"Конфликт названий, пожалуйста, измените название",editRepeatContentTips:"Конфликт содержимого {msg}, пожалуйста, измените текст",importError:"Не совпадает ключ-значение",importRepeatTitle:"Название повторяющееся, пропускается: {msg}",importRepeatContent:"Содержание повторяющееся, пропускается: {msg}",onlineImportWarning:"Внимание! Проверьте источник JSON-файла!",downloadError:"Проверьте состояние сети и правильность JSON-файла"}},os=Jt(),ss=os.language||"zh-CN",me=Et({locale:ss,fallbackLocale:"en-US",allowComposition:!0,messages:{"en-US":Xo,"ko-KR":Zo,"zh-CN":qo,"zh-TW":es,"ru-RU":ts}}),C=me.global.t;function j(e){me.global.locale=e}function rs(e){e.use(me)}const as=[{key:"awesome-chatgpt-prompts-zh",desc:"ChatGPT 中文调教指南",downloadUrl:"https://raw.githubusercontent.com/PlexPt/awesome-chatgpt-prompts-zh/main/prompts-zh.json",url:"https://github.com/PlexPt/awesome-chatgpt-prompts-zh"},{key:"awesome-chatgpt-prompts-zh-TW",desc:"ChatGPT 中文調教指南 (透過 OpenAI / OpenCC 協助，從簡體中文轉換為繁體中文的版本)",downloadUrl:"https://raw.githubusercontent.com/PlexPt/awesome-chatgpt-prompts-zh/main/prompts-zh-TW.json",url:"https://github.com/PlexPt/awesome-chatgpt-prompts-zh"}],ns={class:"space-y-4"},is={class:"flex items-center space-x-4"},ls={class:"flex items-center"},cs={class:"flex flex-col items-center gap-2"},us={class:"mb-4"},ds={class:"flex items-center gap-4"},ps={class:"max-h-[360px] overflow-y-auto space-y-4"},ms=["title"],hs={class:"flex items-center justify-end space-x-4"},fs=["href"],gs=A({__name:"index",props:{visible:{type:Boolean}},emits:["update:visible"],setup(e,{emit:o}){const r=e,s=le(),a=P({get:()=>r.visible,set:d=>o("update:visible",d)}),n=E(!1),f=E(!1),y=E(!1),T=E(""),{isMobile:S}=K(),w=Do(),h=as,v=E(w.promptList),p=E(""),_=E(""),L=E(""),se=E({}),H=(d,l={key:"",value:""})=>{d==="add"?(p.value="",_.value=""):d==="modify"?(se.value={...l},p.value=l.key,_.value=l.value):d==="local_import"&&(p.value="local_import",_.value=""),n.value=!n.value,L.value=d},D=E(""),De=P(()=>D.value.trim().length<1),He=d=>{D.value=d},he=P(()=>p.value.trim().length<1||_.value.trim().length<1),je=()=>{for(const d of v.value){if(d.key===p.value){s.error(C("store.addRepeatTitleTips"));return}if(d.value===_.value){s.error(C("store.addRepeatContentTips",{msg:p.value}));return}}v.value.unshift({key:p.value,value:_.value}),s.success(C("common.addSuccess")),H("add")},Je=()=>{let d=0;for(const i of v.value){if(i.key===se.value.key&&i.value===se.value.value)break;d=d+1}const l=v.value.filter((i,$)=>$!==d);for(const i of l){if(i.key===p.value){s.error(C("store.editRepeatTitleTips"));return}if(i.value===_.value){s.error(C("store.editRepeatContentTips",{msg:i.key}));return}}v.value=[{key:p.value,value:_.value},...l],s.success(C("common.editSuccess")),H("modify")},fe=d=>{v.value=[...v.value.filter(l=>l.key!==d.key)],s.success(C("common.deleteSuccess"))},We=()=>{v.value=[],s.success(C("common.clearSuccess"))},ge=(d="online")=>{try{const l=JSON.parse(_.value);let i="",$="";if("key"in l[0])i="key",$="value";else if("act"in l[0])i="act",$="prompt";else throw s.warning("prompt key not supported."),new Error("prompt key not supported.");for(const O of l){if(!(i in O)||!($ in O))throw new Error(C("store.importError"));let re=!0;for(const ye of v.value){if(ye.key===O[i]){s.warning(C("store.importRepeatTitle",{msg:O[i]})),re=!1;break}if(ye.value===O[$]){s.warning(C("store.importRepeatContent",{msg:O[i]})),re=!1;break}}re&&v.value.unshift({key:O[i],value:O[$]})}s.success(C("common.importSuccess"))}catch{s.error("JSON 格式错误，请检查 JSON 格式")}d==="local"&&(n.value=!n.value)},Ve=()=>{y.value=!0;const d=JSON.stringify(v.value),l=new Blob([d],{type:"application/json"}),i=URL.createObjectURL(l),$=document.createElement("a");$.href=i,$.download="ChatGPTPromptTemplate.json",$.click(),URL.revokeObjectURL(i),y.value=!1},Fe=async()=>{try{f.value=!0;const l=await(await fetch(D.value)).json();if("key"in l[0]&&"value"in l[0]&&(_.value=JSON.stringify(l)),"act"in l[0]&&"prompt"in l[0]){const i=l.map($=>({key:$.act,value:$.prompt}));_.value=JSON.stringify(i)}ge(),D.value=""}catch{s.error(C("store.downloadError")),D.value=""}finally{f.value=!1}},Ge=()=>{const[d,l]=S.value?[10,30]:[15,50];return v.value.map(i=>({renderKey:i.key.length<=d?i.key:`${i.key.substring(0,d)}...`,renderValue:i.value.length<=l?i.value:`${i.value.substring(0,l)}...`,key:i.key,value:i.value}))},Ke=P(()=>{const[d,l]=S.value?[6,5]:[7,15];return{pageSize:d,pageSlot:l}}),Ye=(()=>[{title:C("store.title"),key:"renderKey"},{title:C("store.description"),key:"renderValue"},{title:C("common.action"),key:"actions",width:100,align:"center",render(d){return Y("div",{class:"flex items-center flex-col gap-2"},{default:()=>[Y(N,{tertiary:!0,size:"small",type:"info",onClick:()=>H("modify",d)},{default:()=>C("common.edit")}),Y(N,{tertiary:!0,size:"small",type:"error",onClick:()=>fe(d)},{default:()=>C("common.delete")})]})}}])();te(()=>v,()=>{w.updatePromptList(v.value)},{deep:!0});const ve=P(()=>{const d=Ge(),l=T.value;return l&&l!==""?d.filter(i=>i.renderKey.includes(l)||i.renderValue.includes(l)):d});return(d,l)=>(g(),x(B,null,[c(t(ie),{show:t(a),"onUpdate:show":l[6]||(l[6]=i=>et(a)?a.value=i:null),style:{width:"90%","max-width":"900px"},preset:"card"},{default:u(()=>[m("div",ns,[c(t(gt),{type:"segment"},{default:u(()=>[c(t(Ce),{name:"local",tab:d.$t("store.local")},{default:u(()=>[m("div",{class:V(["flex gap-3 mb-4",[t(S)?"flex-col":"flex-row justify-between"]])},[m("div",is,[c(t(N),{type:"primary",size:"small",onClick:l[0]||(l[0]=i=>H("add"))},{default:u(()=>[b(k(d.$t("common.add")),1)]),_:1}),c(t(N),{size:"small",onClick:l[1]||(l[1]=i=>H("local_import"))},{default:u(()=>[b(k(d.$t("common.import")),1)]),_:1}),c(t(N),{size:"small",loading:y.value,onClick:l[2]||(l[2]=i=>Ve())},{default:u(()=>[b(k(d.$t("common.export")),1)]),_:1},8,["loading"]),c(t(Ne),{onPositiveClick:We},{trigger:u(()=>[c(t(N),{size:"small"},{default:u(()=>[b(k(d.$t("common.clear")),1)]),_:1})]),default:u(()=>[b(" "+k(d.$t("store.clearStoreConfirm")),1)]),_:1})]),m("div",ls,[c(t(J),{value:T.value,"onUpdate:value":l[3]||(l[3]=i=>T.value=i),style:{width:"100%"}},null,8,["value"])])],2),t(S)?z("",!0):(g(),R(t(vt),{key:0,"max-height":400,columns:t(Ye),data:t(ve),pagination:t(Ke),bordered:!1},null,8,["columns","data","pagination"])),t(S)?(g(),R(t(Ct),{key:1,style:{"max-height":"400px","overflow-y":"auto"}},{default:u(()=>[(g(!0),x(B,null,ae(t(ve),(i,$)=>(g(),R(t(yt),{key:$},{suffix:u(()=>[m("div",cs,[c(t(N),{tertiary:"",size:"small",type:"info",onClick:O=>H("modify",i)},{default:u(()=>[b(k(t(C)("common.edit")),1)]),_:2},1032,["onClick"]),c(t(N),{tertiary:"",size:"small",type:"error",onClick:O=>fe(i)},{default:u(()=>[b(k(t(C)("common.delete")),1)]),_:2},1032,["onClick"])])]),default:u(()=>[c(t(St),{title:i.renderKey,description:i.renderValue},null,8,["title","description"])]),_:2},1024))),128))]),_:1})):z("",!0)]),_:1},8,["tab"]),c(t(Ce),{name:"download",tab:d.$t("store.online")},{default:u(()=>[m("p",us,k(d.$t("store.onlineImportWarning")),1),m("div",ds,[c(t(J),{value:D.value,"onUpdate:value":l[4]||(l[4]=i=>D.value=i),placeholder:""},null,8,["value"]),c(t(N),{strong:"",secondary:"",disabled:t(De),loading:f.value,onClick:l[5]||(l[5]=i=>Fe())},{default:u(()=>[b(k(d.$t("common.download")),1)]),_:1},8,["disabled","loading"])]),c(t(_t)),m("div",ps,[(g(!0),x(B,null,ae(t(h),i=>(g(),R(t(wt),{key:i.key,title:i.key,bordered:!0,embedded:""},{footer:u(()=>[m("div",hs,[c(t(N),{text:""},{default:u(()=>[m("a",{href:i.url,target:"_blank"},[c(t(M),{class:"text-xl",icon:"ri:link"})],8,fs)]),_:2},1024),c(t(N),{text:"",onClick:$=>He(i.downloadUrl)},{default:u(()=>[c(t(M),{class:"text-xl",icon:"ri:add-fill"})]),_:2},1032,["onClick"])])]),default:u(()=>[m("p",{class:"overflow-hidden text-ellipsis whitespace-nowrap",title:i.desc},k(i.desc),9,ms)]),_:2},1032,["title"]))),128))])]),_:1},8,["tab"])]),_:1})])]),_:1},8,["show"]),c(t(ie),{show:n.value,"onUpdate:show":l[12]||(l[12]=i=>n.value=i),style:{width:"90%","max-width":"600px"},preset:"card"},{default:u(()=>[L.value==="add"||L.value==="modify"?(g(),R(t(_e),{key:0,vertical:""},{default:u(()=>[b(k(t(C)("store.title"))+" ",1),c(t(J),{value:p.value,"onUpdate:value":l[7]||(l[7]=i=>p.value=i)},null,8,["value"]),b(" "+k(t(C)("store.description"))+" ",1),c(t(J),{value:_.value,"onUpdate:value":l[8]||(l[8]=i=>_.value=i),type:"textarea"},null,8,["value"]),c(t(N),{block:"",type:"primary",disabled:t(he),onClick:l[9]||(l[9]=()=>{L.value==="add"?je():Je()})},{default:u(()=>[b(k(t(C)("common.confirm")),1)]),_:1},8,["disabled"])]),_:1})):z("",!0),L.value==="local_import"?(g(),R(t(_e),{key:1,vertical:""},{default:u(()=>[c(t(J),{value:_.value,"onUpdate:value":l[10]||(l[10]=i=>_.value=i),placeholder:t(C)("store.importPlaceholder"),autosize:{minRows:3,maxRows:15},type:"textarea"},null,8,["value","placeholder"]),c(t(N),{block:"",type:"primary",disabled:t(he),onClick:l[11]||(l[11]=()=>{ge("local")})},{default:u(()=>[b(k(t(C)("common.import")),1)]),_:1},8,["disabled"])]),_:1})):z("",!0)]),_:1},8,["show"])],64))}}),M=A({__name:"index",props:{icon:null},setup(e){const o=tt(),r=P(()=>({class:o.class||"",style:o.style||""}));return(s,a)=>(g(),R(t(At),ot({icon:e.icon},t(r)),null,16,["icon"]))}});function vs(){const e=F();return{language:P(()=>{switch(e.language){case"en-US":return j("en-US"),xe;case"ru-RU":return j("ru-RU"),xe;case"ko-KR":return j("ko-KR"),kt;case"zh-CN":return j("zh-CN"),we;case"zh-TW":return j("zh-TW"),xt;default:return j("zh-CN"),we}})}}const U={normal:"#3b7ff2",hover:"#3868c9",pressed:"#1749ad"},ys={common:{primaryColorSuppl:U.normal,primaryColor:U.normal,primaryColorHover:U.hover,primaryColorPressed:U.normal,iconColor:U.normal,fontSize:"16px",iconColorHover:U.hover,iconColorPressed:U.pressed,borderColor:U.normal,scrollbarColor:U.normal,scrollbarColorHover:U.normal,borderRadius:"15px",borderRadiusSmall:"15px"}},Ss={key:0,class:"image",style:{"background-image":"url(https://www.bing.com/cdx/bg-sprite.png)","background-position":"0% 0%",opacity:"1",position:"fixed",height:"100vh",width:"100vw"}},Cs=A({__name:"App",setup(e){const{theme:o,isDark:r}=Ae(),{language:s}=vs(),{isMobile:a}=K();return te(()=>r.value,n=>{n?document.body.style.background="#1f2121":document.documentElement.classList.remove("dark")},{immediate:!0}),(n,f)=>{const y=Le("RouterView");return g(),x(B,null,[t(r)?z("",!0):(g(),x("div",Ss)),c(t(bt),{class:"h-full",theme:t(o),"theme-overrides":t(ys),locale:t(s),style:ne([t(a)?"padding: 32px 0px 0px;":"padding: 32px 10% 0px;"])},{default:u(()=>[c(t(Bt),null,{default:u(()=>[c(y)]),_:1})]),_:1},8,["theme","theme-overrides","locale","style"])],64)}}});function _s(){const e=document.createElement("meta");e.name="naive-ui-style",document.head.appendChild(e)}function ws(){_s()}const xs=()=>{var r,s,a,n,f;const e=document.createElement("style"),o=`
    ::-webkit-scrollbar {
      background-color: transparent;
      width: ${(r=ke.Scrollbar.common)==null?void 0:r.scrollbarWidth};
    }
    ::-webkit-scrollbar-thumb {
      background-color: rgb(0 0 0 / 4%);
      border-radius: ${(s=ke.Scrollbar.common)==null?void 0:s.scrollbarBorderRadius};
    }
    html.dark ::-webkit-scrollbar {
      background-color: transparent;
      width: ${(a=Q.Scrollbar.common)==null?void 0:a.scrollbarWidth};
    }
    html.dark ::-webkit-scrollbar-thumb {
      background-color: ${(n=Q.Scrollbar.common)==null?void 0:n.scrollbarColor};
      border-radius: ${(f=Q.Scrollbar.common)==null?void 0:f.scrollbarBorderRadius};
    }
  `;e.innerHTML=o,document.head.appendChild(e)};async function ks(){const e=st(Cs);ws(),xs(),Wo(e),rs(e),await Ao(e),e.mount("#app")}ks();export{M as _,K as a,X as b,ue as c,Pe as d,F as e,Mt as f,Be as g,Xs as h,$e as i,Zs as j,Do as k,Ys as l,oe as m,Qs as s,C as t,zo as u};
