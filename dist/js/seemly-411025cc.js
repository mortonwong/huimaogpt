let h=[];const b=new WeakMap;function R(){h.forEach(e=>e(...b.get(e))),h=[]}function H(e,...t){b.set(e,t),!h.includes(e)&&h.push(e)===1&&requestAnimationFrame(R)}function W(e,t){let{target:n}=e;for(;n;){if(n.dataset&&n.dataset[t]!==void 0)return!0;n=n.parentElement}return!1}function q(e){return e.composedPath()[0]||null}function O(e){return typeof e=="string"?e.endsWith("px")?Number(e.slice(0,e.length-2)):Number(e):e}function P(e){if(e!=null)return typeof e=="number"?`${e}px`:e.endsWith("px")?e:`${e}px`}function S(e,t){const n=e.trim().split(/\s+/g),r={top:n[0]};switch(n.length){case 1:r.right=n[0],r.bottom=n[0],r.left=n[0];break;case 2:r.right=n[1],r.left=n[1],r.bottom=n[0];break;case 3:r.right=n[1],r.bottom=n[2],r.left=n[1];break;case 4:r.right=n[1],r.bottom=n[2],r.left=n[3];break;default:throw new Error("[seemly/getMargin]:"+e+" is not a valid value.")}return t===void 0?r:r[t]}function j(e,t){const[n,r]=e.split(" ");return t?t==="row"?n:r:{row:n,col:r||n}}const w={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},c="^\\s*",$="\\s*$",f="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",u="([0-9A-Fa-f])",o="([0-9A-Fa-f]{2})",A=new RegExp(`${c}rgb\\s*\\(${f},${f},${f}\\)${$}`),y=new RegExp(`${c}rgba\\s*\\(${f},${f},${f},${f}\\)${$}`),E=new RegExp(`${c}#${u}${u}${u}${$}`),C=new RegExp(`${c}#${o}${o}${o}${$}`),M=new RegExp(`${c}#${u}${u}${u}${u}${$}`),N=new RegExp(`${c}#${o}${o}${o}${o}${$}`);function i(e){return parseInt(e,16)}function p(e){try{let t;if(t=C.exec(e))return[i(t[1]),i(t[2]),i(t[3]),1];if(t=A.exec(e))return[s(t[1]),s(t[5]),s(t[9]),1];if(t=y.exec(e))return[s(t[1]),s(t[5]),s(t[9]),g(t[13])];if(t=E.exec(e))return[i(t[1]+t[1]),i(t[2]+t[2]),i(t[3]+t[3]),1];if(t=N.exec(e))return[i(t[1]),i(t[2]),i(t[3]),g(i(t[4])/255)];if(t=M.exec(e))return[i(t[1]+t[1]),i(t[2]+t[2]),i(t[3]+t[3]),g(i(t[4]+t[4])/255)];if(e in w)return p(w[e]);throw new Error(`[seemly/rgba]: Invalid color value ${e}.`)}catch(t){throw t}}function I(e){return e>1?1:e<0?0:e}function d(e,t,n,r){return`rgba(${s(e)}, ${s(t)}, ${s(n)}, ${I(r)})`}function m(e,t,n,r,a){return s((e*t*(1-r)+n*r)/a)}function k(e,t){Array.isArray(e)||(e=p(e)),Array.isArray(t)||(t=p(t));const n=e[3],r=t[3],a=g(n+r-n*r);return d(m(e[0],n,t[0],r,a),m(e[1],n,t[1],r,a),m(e[2],n,t[2],r,a),a)}function z(e,t){const[n,r,a,l=1]=Array.isArray(e)?e:p(e);return t.alpha?d(n,r,a,t.alpha):d(n,r,a,l)}function T(e,t){const[n,r,a,l=1]=Array.isArray(e)?e:p(e),{lightness:x=1,alpha:F=1}=t;return G([n*x,r*x,a*x,l*F])}function g(e){const t=Math.round(Number(e)*100)/100;return t>1?1:t<0?0:t}function s(e){const t=Math.round(Number(e));return t>255?255:t<0?0:t}function G(e){const[t,n,r]=e;return 3 in e?`rgba(${s(t)}, ${s(n)}, ${s(r)}, ${g(e[3])})`:`rgba(${s(t)}, ${s(n)}, ${s(r)}, 1)`}function B(e=8){return Math.random().toString(16).slice(2,2+e)}function D(e,t){const n=[];for(let r=0;r<e;++r)n.push(t);return n}export{S as a,z as b,k as c,O as d,B as e,D as f,q as g,W as h,H as i,j,P as p,p as r,T as s};
