import{e as D,u as V,a as O,_ as v,t as b}from"./index-cdab0087.js";import{f as T,l as y,i as L,K as F,r as M,s as j,n as A}from"./naive-ui-1791d9c8.js";import{d as S,c as w,Q as C,R as $,W as s,Y as E,O as e,U as i,M as o,S as a,e as k,F as G,X as J,r as P,V as H,Z as K,H as W}from"./@vue-e75d1031.js";import"./pinia-aa1e01f0.js";import"./vue-router-3dd1a1ae.js";import"./axios-760d4776.js";import"./@vueuse-b960a1cb.js";import"./vue-i18n-78e7aff6.js";import"./@intlify-7347860c.js";import"./@iconify-105318ea.js";import"./vooks-b73419e1.js";import"./evtd-b614532e.js";import"./katex-eae73049.js";import"./vdirs-b0483831.js";import"./treemate-25c27bff.js";import"./seemly-411025cc.js";import"./vueuc-145bf272.js";import"./@css-render-19d6fc9e.js";import"./@juggle-41516555.js";import"./css-render-d3958e6a.js";import"./@emotion-8a8e73f6.js";import"./lodash-es-cabc0acd.js";import"./date-fns-9733c85e.js";function Y(){const p=new Date,l=p.getDate(),d=p.getMonth()+1;return`${p.getFullYear()}-${d}-${l}`}const Q={class:"p-4 space-y-5 min-h-[200px]"},X={class:"space-y-6"},Z={class:"flex-shrink-0 w-[100px]"},q={class:"flex flex-wrap items-center gap-4"},ee={class:"flex items-center space-x-4"},te={class:"flex-shrink-0 w-[100px]"},se={class:"flex flex-wrap items-center gap-4"},oe={class:"flex items-center space-x-4"},ae={class:"flex-shrink-0 w-[100px]"},ne={class:"flex flex-wrap items-center gap-4"},ie={class:"flex items-center space-x-4"},le={class:"flex-shrink-0 w-[100px]"},re=S({__name:"General",setup(p){const l=D(),d=V(),{isMobile:f}=O(),c=T(),g=w(()=>l.theme),m=w({get(){return l.language},set(t){l.setLanguage(t)}}),h=[{label:"Auto",key:"auto",icon:"ri:contrast-line"},{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}],N=[{label:"简体中文",key:"zh-CN",value:"zh-CN"},{label:"繁體中文",key:"zh-TW",value:"zh-TW"},{label:"English",key:"en-US",value:"en-US"},{label:"한국어",key:"ko-KR",value:"ko-KR"},{label:"Русский язык",key:"ru-RU",value:"ru-RU"}];function B(){d.resetUserInfo(),c.success(b("common.success")),window.location.reload()}function U(){const t=Y(),r=localStorage.getItem("chatStorage")||"{}",n=JSON.stringify(JSON.parse(r),null,2),u=new Blob([n],{type:"application/json"}),x=URL.createObjectURL(u),_=document.createElement("a");_.href=x,_.download=`chat-store_${t}.json`,document.body.appendChild(_),_.click(),document.body.removeChild(_)}function z(t){const r=t.target;if(!r||!r.files)return;const n=r.files[0];if(!n)return;const u=new FileReader;u.onload=()=>{try{const x=JSON.parse(u.result);localStorage.setItem("chatStorage",JSON.stringify(x)),c.success(b("common.success")),location.reload()}catch{c.error(b("common.invalidFileFormat"))}},u.readAsText(n)}function I(){localStorage.removeItem("chatStorage"),location.reload()}function R(){const t=document.getElementById("fileInput");t&&t.click()}return(t,r)=>(C(),$("div",Q,[s("div",X,[s("div",{class:E(["flex items-center space-x-4",e(f)&&"items-start"])},[s("span",Z,i(t.$t("setting.chatHistory")),1),s("div",q,[o(e(y),{size:"small",onClick:U},{icon:a(()=>[o(e(v),{icon:"ri:download-2-fill"})]),default:a(()=>[k(" "+i(t.$t("common.export")),1)]),_:1}),s("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:z},null,32),o(e(y),{size:"small",onClick:R},{icon:a(()=>[o(e(v),{icon:"ri:upload-2-fill"})]),default:a(()=>[k(" "+i(t.$t("common.import")),1)]),_:1}),o(e(L),{placement:"bottom",onPositiveClick:I},{trigger:a(()=>[o(e(y),{size:"small"},{icon:a(()=>[o(e(v),{icon:"ri:close-circle-line"})]),default:a(()=>[k(" "+i(t.$t("common.clear")),1)]),_:1})]),default:a(()=>[k(" "+i(t.$t("chat.clearHistoryConfirm")),1)]),_:1})])],2),s("div",ee,[s("span",te,i(t.$t("setting.theme")),1),s("div",se,[(C(),$(G,null,J(h,n=>o(e(y),{key:n.key,size:"small",type:n.key===e(g)?"primary":void 0,onClick:u=>e(l).setTheme(n.key)},{icon:a(()=>[o(e(v),{icon:n.icon},null,8,["icon"])]),_:2},1032,["type","onClick"])),64))])]),s("div",oe,[s("span",ae,i(t.$t("setting.language")),1),s("div",ne,[o(e(F),{style:{width:"140px"},value:e(m),options:N,onUpdateValue:r[0]||(r[0]=n=>e(l).setLanguage(n))},null,8,["value"])])]),s("div",ie,[s("span",le,i(t.$t("setting.resetUserInfo")),1),o(e(y),{size:"small",onClick:B},{default:a(()=>[k(i(t.$t("common.reset")),1)]),_:1})])])]))}}),ce={class:"ml-2"},pe={class:"min-h-[100px]"};const Ve=S({__name:"index",props:{visible:{type:Boolean}},emits:["update:visible"],setup(p,{emit:l}){const d=p,f=P("General"),c=w({get(){return d.visible},set(g){l("update:visible",g)}});return(g,m)=>(C(),H(e(A),{show:e(c),"onUpdate:show":m[1]||(m[1]=h=>W(c)?c.value=h:null),"auto-focus":!1,title:"设置",preset:"card",style:{width:"95%","max-width":"500px"}},{default:a(()=>[s("div",null,[o(e(M),{value:f.value,"onUpdate:value":m[0]||(m[0]=h=>f.value=h),type:"line",animated:""},{default:a(()=>[o(e(j),{name:"General",tab:"General"},{tab:a(()=>[o(e(v),{class:"text-lg",icon:"ri:file-user-line"}),s("span",ce,i(g.$t("setting.general")),1)]),default:a(()=>[s("div",pe,[o(re)])]),_:1}),K("",!0)]),_:1},8,["value"])])]),_:1},8,["show"]))}});export{Ve as default};
